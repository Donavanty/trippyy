{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.registerKnobs = registerKnobs;\nexports.manager = void 0;\n\nvar _addons = _interopRequireDefault(require(\"@storybook/addons\"));\n\nvar _clientApi = require(\"@storybook/client-api\");\n\nvar _coreEvents = require(\"@storybook/core-events\");\n\nvar _debounce = _interopRequireDefault(require(\"lodash/debounce\"));\n\nvar _KnobManager = _interopRequireDefault(require(\"./KnobManager\"));\n\nvar _shared = require(\"./shared\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar manager = new _KnobManager[\"default\"]();\nexports.manager = manager;\nvar knobStore = manager.knobStore;\nvar COMPONENT_FORCE_RENDER_DEBOUNCE_DELAY_MS = 325;\n\nfunction forceReRender() {\n  _addons[\"default\"].getChannel().emit(_coreEvents.FORCE_RE_RENDER);\n}\n\nfunction setPaneKnobs() {\n  var timestamp = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : +new Date();\n\n  var channel = _addons[\"default\"].getChannel();\n\n  channel.emit(_shared.SET, {\n    knobs: knobStore.getAll(),\n    timestamp: timestamp\n  });\n}\n\nvar resetAndForceUpdate = function resetAndForceUpdate() {\n  knobStore.markAllUnused();\n  forceReRender();\n}; // Increase performance by reducing how frequently the story is recreated during knob changes\n\n\nvar debouncedResetAndForceUpdate = (0, _debounce[\"default\"])(resetAndForceUpdate, COMPONENT_FORCE_RENDER_DEBOUNCE_DELAY_MS);\n\nfunction knobChanged(change) {\n  var name = change.name;\n  var value = change.value; // Update the related knob and it's value.\n\n  var knobOptions = knobStore.get(name);\n  knobOptions.value = value;\n\n  if (!manager.options.disableDebounce) {\n    debouncedResetAndForceUpdate();\n  } else {\n    resetAndForceUpdate();\n  }\n}\n\nfunction knobClicked(clicked) {\n  var knobOptions = knobStore.get(clicked.name);\n\n  if (knobOptions.callback && knobOptions.callback() !== false) {\n    forceReRender();\n  }\n}\n\nfunction resetKnobs() {\n  knobStore.reset();\n  setPaneKnobs(false);\n}\n\nfunction resetKnobsAndForceReRender() {\n  knobStore.reset();\n  forceReRender();\n  setPaneKnobs(false);\n}\n\nfunction disconnectCallbacks() {\n  var channel = _addons[\"default\"].getChannel();\n\n  channel.removeListener(_shared.CHANGE, knobChanged);\n  channel.removeListener(_shared.CLICK, knobClicked);\n  channel.removeListener(_coreEvents.STORY_CHANGED, resetKnobs);\n  channel.removeListener(_shared.RESET, resetKnobsAndForceReRender);\n  knobStore.unsubscribe(setPaneKnobs);\n}\n\nfunction connectCallbacks() {\n  var channel = _addons[\"default\"].getChannel();\n\n  channel.on(_shared.CHANGE, knobChanged);\n  channel.on(_shared.CLICK, knobClicked);\n  channel.on(_coreEvents.STORY_CHANGED, resetKnobs);\n  channel.on(_shared.RESET, resetKnobsAndForceReRender);\n  knobStore.subscribe(setPaneKnobs);\n  return disconnectCallbacks;\n}\n\nfunction registerKnobs() {\n  (0, _clientApi.useEffect)(connectCallbacks, []);\n}","map":{"version":3,"sources":["/Users/lixupeng/NUS ACADS/ORBITAL/trippyy/frontend/[REACT] trippyy/node_modules/@storybook/addon-knobs/dist/registerKnobs.js"],"names":["Object","defineProperty","exports","value","registerKnobs","manager","_addons","_interopRequireDefault","require","_clientApi","_coreEvents","_debounce","_KnobManager","_shared","obj","__esModule","knobStore","COMPONENT_FORCE_RENDER_DEBOUNCE_DELAY_MS","forceReRender","getChannel","emit","FORCE_RE_RENDER","setPaneKnobs","timestamp","arguments","length","undefined","Date","channel","SET","knobs","getAll","resetAndForceUpdate","markAllUnused","debouncedResetAndForceUpdate","knobChanged","change","name","knobOptions","get","options","disableDebounce","knobClicked","clicked","callback","resetKnobs","reset","resetKnobsAndForceReRender","disconnectCallbacks","removeListener","CHANGE","CLICK","STORY_CHANGED","RESET","unsubscribe","connectCallbacks","on","subscribe","useEffect"],"mappings":"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","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.date.to-string\");\n\nrequire(\"core-js/modules/es.function.name\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.registerKnobs = registerKnobs;\nexports.manager = void 0;\n\nvar _addons = _interopRequireDefault(require(\"@storybook/addons\"));\n\nvar _clientApi = require(\"@storybook/client-api\");\n\nvar _coreEvents = require(\"@storybook/core-events\");\n\nvar _debounce = _interopRequireDefault(require(\"lodash/debounce\"));\n\nvar _KnobManager = _interopRequireDefault(require(\"./KnobManager\"));\n\nvar _shared = require(\"./shared\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar manager = new _KnobManager[\"default\"]();\nexports.manager = manager;\nvar knobStore = manager.knobStore;\nvar COMPONENT_FORCE_RENDER_DEBOUNCE_DELAY_MS = 325;\n\nfunction forceReRender() {\n  _addons[\"default\"].getChannel().emit(_coreEvents.FORCE_RE_RENDER);\n}\n\nfunction setPaneKnobs() {\n  var timestamp = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : +new Date();\n\n  var channel = _addons[\"default\"].getChannel();\n\n  channel.emit(_shared.SET, {\n    knobs: knobStore.getAll(),\n    timestamp: timestamp\n  });\n}\n\nvar resetAndForceUpdate = function resetAndForceUpdate() {\n  knobStore.markAllUnused();\n  forceReRender();\n}; // Increase performance by reducing how frequently the story is recreated during knob changes\n\n\nvar debouncedResetAndForceUpdate = (0, _debounce[\"default\"])(resetAndForceUpdate, COMPONENT_FORCE_RENDER_DEBOUNCE_DELAY_MS);\n\nfunction knobChanged(change) {\n  var name = change.name;\n  var value = change.value; // Update the related knob and it's value.\n\n  var knobOptions = knobStore.get(name);\n  knobOptions.value = value;\n\n  if (!manager.options.disableDebounce) {\n    debouncedResetAndForceUpdate();\n  } else {\n    resetAndForceUpdate();\n  }\n}\n\nfunction knobClicked(clicked) {\n  var knobOptions = knobStore.get(clicked.name);\n\n  if (knobOptions.callback && knobOptions.callback() !== false) {\n    forceReRender();\n  }\n}\n\nfunction resetKnobs() {\n  knobStore.reset();\n  setPaneKnobs(false);\n}\n\nfunction resetKnobsAndForceReRender() {\n  knobStore.reset();\n  forceReRender();\n  setPaneKnobs(false);\n}\n\nfunction disconnectCallbacks() {\n  var channel = _addons[\"default\"].getChannel();\n\n  channel.removeListener(_shared.CHANGE, knobChanged);\n  channel.removeListener(_shared.CLICK, knobClicked);\n  channel.removeListener(_coreEvents.STORY_CHANGED, resetKnobs);\n  channel.removeListener(_shared.RESET, resetKnobsAndForceReRender);\n  knobStore.unsubscribe(setPaneKnobs);\n}\n\nfunction connectCallbacks() {\n  var channel = _addons[\"default\"].getChannel();\n\n  channel.on(_shared.CHANGE, knobChanged);\n  channel.on(_shared.CLICK, knobClicked);\n  channel.on(_coreEvents.STORY_CHANGED, resetKnobs);\n  channel.on(_shared.RESET, resetKnobsAndForceReRender);\n  knobStore.subscribe(setPaneKnobs);\n  return disconnectCallbacks;\n}\n\nfunction registerKnobs() {\n  (0, _clientApi.useEffect)(connectCallbacks, []);\n}"]},"metadata":{},"sourceType":"script"}