{"ast":null,"code":"var _jsxFileName = \"/Users/lixupeng/NUS ACADS/ORBITAL/trippyy-working/trippyy/frontend/src/Components/StartComponents/inputForm.jsx\";\nimport React, { Component } from 'react';\nimport \"./inputForm.css\";\nimport axios from \"axios\";\nimport Calendar from \"./calendar\";\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/actions';\nimport { Link } from 'react-router-dom';\n\nclass InputForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      startDate: null,\n      endDate: null,\n      newTripCreated: false,\n      loading: this.props.loading\n    };\n\n    this.updateDates = (startDate, endDate) => {\n      this.setState({\n        startDate,\n        endDate\n      });\n    };\n\n    this.newTrip = event => {\n      event.preventDefault();\n      this.props.newTrip(event.target.country.value, this.state.startDate, this.state.endDate); // this.props.history.push(\"/shopping\");\n\n      this.setState({\n        newTripCreated: true\n      });\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    alert(\"updated props\", nextProps.loading);\n\n    if (nextProps.loading === true) {\n      alert(\"e\");\n      return {\n        loading: true\n      };\n    } else return null;\n  } //Happens upon receiving updated information.\n\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    alert(this.props.loading);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid align-items-center inputForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 8\n      }\n    }, this.props.isAuthenticated ? /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 10\n      }\n    }, \"Hello, \", this.props.username) : /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 51\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.newTrip,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 19\n      }\n    }, \" Enter Country: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"country\",\n      placeholder: \"Enter country pls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 19\n      }\n    }, \" Enter dates: \"), /*#__PURE__*/React.createElement(Calendar, {\n      updateDates: this.updateDates,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }\n    }, \" Submit \")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.token !== null,\n    username: state.username,\n    loading: state.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    newTrip: (country, startDate, endDate) => dispatch(actions.newTrip(country, startDate, endDate))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InputForm);","map":{"version":3,"sources":["/Users/lixupeng/NUS ACADS/ORBITAL/trippyy-working/trippyy/frontend/src/Components/StartComponents/inputForm.jsx"],"names":["React","Component","axios","Calendar","connect","actions","Link","InputForm","state","startDate","endDate","newTripCreated","loading","props","updateDates","setState","newTrip","event","preventDefault","target","country","value","getDerivedStateFromProps","nextProps","prevState","alert","componentDidUpdate","prevProps","snapshot","render","isAuthenticated","username","mapStateToProps","token","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport \"./inputForm.css\"\nimport axios from \"axios\";\nimport Calendar from \"./calendar\"\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/actions';\nimport { Link } from 'react-router-dom';\n\nclass InputForm extends Component {\n\n\tstate = {\n\t\tstartDate: null,\n\t\tendDate: null,\n\t\tnewTripCreated: false,\n\t\tloading: this.props.loading\n\t}\n\n\tupdateDates = (startDate, endDate) => {\n\t\tthis.setState({startDate, endDate});\n\t}\n\n\n\tnewTrip = (event) => {\n\t\tevent.preventDefault();\n\t\tthis.props.newTrip(event.target.country.value, this.state.startDate, this.state.endDate);\n\t\t// this.props.history.push(\"/shopping\");\n\t\tthis.setState({newTripCreated: true});\n\t}\n\n\n\tstatic getDerivedStateFromProps(nextProps, prevState){\n\t  alert(\"updated props\", nextProps.loading)\n\t  if (nextProps.loading===true){\n\t  \t alert(\"e\");\n\t     return { loading: true };\n\t  }\n\t  else return null;\n\t}\n\n\t//Happens upon receiving updated information.\n    componentDidUpdate(prevProps, prevState, snapshot) {\n    \talert(this.props.loading);\n    }\n\n\trender() {\n\t\treturn (\n\t      <div className = \"container-fluid align-items-center inputForm\">\n\t      \t{\n\t    \t\t (this.props.isAuthenticated) ?\n\t    \t\t\t <h1>Hello, {this.props.username}</h1> : (<h1></h1>)\n\t    \t}\n\t          <div className = \"jumbotron\">\n\t              <form onSubmit = {this.newTrip}> \n\t                <div>\n\t                \t<h3> Enter Country: </h3>\n\t                \t<input type = \"text\" name = \"country\" placeholder = \"Enter country pls\" />\n\t                </div>\n\n\t                <div className =\"inputForm\">\n\t                \t<h3> Enter dates: </h3>\n\t                \t<Calendar updateDates={this.updateDates}/>\n\t                </div>\n\t                <div className = \"inputForm\">\n\t                \t<button> Submit </button>\n\t                </div>\n\t              </form>\n\n\t              \n\t          </div>\n\t      </div>);\n\n\t}\n\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isAuthenticated: state.token !== null,\n        username: state.username,\n        loading: state.loading\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        newTrip: (country, startDate, endDate) => dispatch(actions.newTrip(country, startDate, endDate)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InputForm);"]},"metadata":{},"sourceType":"module"}