{"ast":null,"code":"var _jsxFileName = \"/Users/lixupeng/NUS ACADS/ORBITAL/trippyy-working/trippyy/frontend/src/Components/StartComponents/inputForm.jsx\";\nimport React, { Component } from 'react';\nimport \"./inputForm.css\";\nimport axios from \"axios\";\nimport Calendar from \"./calendar\";\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/actions';\nimport { Link } from 'react-router-dom';\nimport { Spinner } from 'react-bootstrap';\nimport Autocomplete from './Autocomplete';\n\nclass InputForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      startDate: null,\n      endDate: null,\n      newTripCreated: false,\n      goToShoppingPage: false,\n      countryName: null,\n      latLng: null\n    };\n\n    this.updateDates = (startDate, endDate) => {\n      this.setState({\n        startDate,\n        endDate\n      });\n    };\n\n    this.updateCountry = (countryName, latLng) => {\n      this.setState({\n        countryName,\n        latLng\n      });\n    };\n\n    this.newTrip = event => {\n      alert(this.state.latLng);\n      event.preventDefault();\n      this.props.newTrip(this.state.countryName, this.state.startDate, this.state.endDate);\n      this.setState({\n        newTripCreated: true\n      });\n    };\n  }\n\n  //If new trip created is true, and loading is complete, then go to shopping page.\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.loading === false && prevState.newTripCreated === true) {\n      return {\n        goToShoppingPage: true\n      };\n    } else return null;\n  } //Happens upon receiving updated information.\n\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.state.goToShoppingPage === true) {\n      this.props.history.push(\"/shopping\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid align-items-center inputForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 8\n      }\n    }, this.props.isAuthenticated ? /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 10\n      }\n    }, \"Hello, \", this.props.username) : /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 51\n      }\n    }, \"Hello stranger:)\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.newTrip,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }\n    }, \" Enter Country: \"), /*#__PURE__*/React.createElement(Autocomplete, {\n      updateCountry: this.updateCountry,\n      name: \"country\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    }, \" Enter dates: \"), /*#__PURE__*/React.createElement(Calendar, {\n      updateDates: this.updateDates,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 18\n      }\n    }, !this.props.loading ? /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 20\n      }\n    }, \" Submit \") : /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 10\n      }\n    }, \"Loading...\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.token !== null,\n    username: state.username,\n    loading: state.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    newTrip: (country, startDate, endDate) => dispatch(actions.newTrip(country, startDate, endDate))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InputForm);","map":{"version":3,"sources":["/Users/lixupeng/NUS ACADS/ORBITAL/trippyy-working/trippyy/frontend/src/Components/StartComponents/inputForm.jsx"],"names":["React","Component","axios","Calendar","connect","actions","Link","Spinner","Autocomplete","InputForm","state","startDate","endDate","newTripCreated","goToShoppingPage","countryName","latLng","updateDates","setState","updateCountry","newTrip","event","alert","preventDefault","props","getDerivedStateFromProps","nextProps","prevState","loading","componentDidUpdate","prevProps","snapshot","history","push","render","isAuthenticated","username","mapStateToProps","token","mapDispatchToProps","dispatch","country"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport \"./inputForm.css\"\nimport axios from \"axios\";\nimport Calendar from \"./calendar\"\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/actions';\nimport { Link } from 'react-router-dom';\nimport { Spinner } from 'react-bootstrap';\nimport Autocomplete from './Autocomplete'\n\nclass InputForm extends Component {\n\n\tstate = {\n\t\tstartDate: null,\n\t\tendDate: null,\n\t\tnewTripCreated: false,\n\t\tgoToShoppingPage: false,\n\t\tcountryName: null,\n\t\tlatLng: null,\n\t}\n\n\tupdateDates = (startDate, endDate) => {\n\t\tthis.setState({startDate, endDate});\n\t}\n\n\tupdateCountry = (countryName, latLng) => {\n\t\tthis.setState({countryName, latLng});\n\t}\n\n\tnewTrip = (event) => {\n\t\talert(this.state.latLng)\n\t\tevent.preventDefault();\n\t\tthis.props.newTrip(this.state.countryName, this.state.startDate, this.state.endDate);\n\t\tthis.setState({newTripCreated: true});\n\t}\n\n\t//If new trip created is true, and loading is complete, then go to shopping page.\n\tstatic getDerivedStateFromProps(nextProps, prevState){\n\t  if (nextProps.loading===false && prevState.newTripCreated===true){\n\t     return { goToShoppingPage: true };\n\t  }\n\t  else return null;\n\t}\n\n\t//Happens upon receiving updated information.\n    componentDidUpdate(prevProps, prevState, snapshot) {\n    \tif (this.state.goToShoppingPage === true) {\n    \t\tthis.props.history.push(\"/shopping\");\n    \t}\n    }\n\n\trender() {\n\t\treturn (\n\t      <div className = \"container-fluid align-items-center inputForm\">\n\t      \t{\n\t    \t\t (this.props.isAuthenticated) ?\n\t    \t\t\t <h1>Hello, {this.props.username}</h1> : (<h1>Hello stranger:)</h1>)\n\t    \t}\n\t          <div className = \"jumbotron\">\n\t              <form onSubmit = {this.newTrip}> \n\t                <div>\n\t                \t<h3> Enter Country: </h3>\n\t                \t<Autocomplete updateCountry={this.updateCountry} name = \"country\"/>\n\t                </div>\n\n\t                <div className =\"inputForm\">\n\t                \t<h3> Enter dates: </h3>\n\t                \t<Calendar updateDates={this.updateDates}/>\n\t                </div>\n\t                \n\t                <div className = \"inputForm\">\n\t                \t{ !this.props.loading ? \n\t                \t\t<button> Submit </button> \n\t                \t\t:\n\t\t\t\t\t\t\t<Spinner animation=\"border\" role=\"status\">\n\t\t\t\t\t\t\t  <span className=\"sr-only\">Loading...</span>\n\t\t\t\t\t\t\t</Spinner>\n\n\t                \t}\n\t                </div>\n\t              </form>\n\n\t              \n\t          </div>\n\t      </div>);\n\n\t}\n\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isAuthenticated: state.token !== null,\n        username: state.username,\n        loading: state.loading\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        newTrip: (country, startDate, endDate) => dispatch(actions.newTrip(country, startDate, endDate)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InputForm);"]},"metadata":{},"sourceType":"module"}