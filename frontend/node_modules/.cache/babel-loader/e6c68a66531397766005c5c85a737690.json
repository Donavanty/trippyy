{"ast":null,"code":"var _jsxFileName = \"/Users/lixupeng/NUS ACADS/ORBITAL/trippyy-working/trippyy/frontend/src/Components/StartComponents/inputForm.jsx\";\nimport React, { Component } from 'react';\nimport \"./inputForm.css\";\nimport axios from \"axios\";\nimport Calendar from \"./calendar\";\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/actions';\nimport { Link } from 'react-router-dom';\nimport { Spinner } from 'react-bootstrap';\nimport Autocomplete from './Autocomplete';\n\nclass InputForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      startDate: null,\n      endDate: null,\n      newTripCreated: false,\n      goToShoppingPage: false\n    };\n\n    this.updateDates = (startDate, endDate) => {\n      this.setState({\n        startDate,\n        endDate\n      });\n    };\n\n    this.newTrip = event => {\n      event.preventDefault();\n      this.props.newTrip(event.target.country.value, this.state.startDate, this.state.endDate);\n      this.setState({\n        newTripCreated: true\n      });\n    };\n  }\n\n  //If new trip created is true, and loading is complete, then go to shopping page.\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.loading === false && prevState.newTripCreated === true) {\n      return {\n        goToShoppingPage: true\n      };\n    } else return null;\n  } //Happens upon receiving updated information.\n\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.state.goToShoppingPage === true) {\n      this.props.history.push(\"/shopping\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid align-items-center inputForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 8\n      }\n    }, this.props.isAuthenticated ? /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 10\n      }\n    }, \"Hello, \", this.props.username) : /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 51\n      }\n    }, \"Hello stranger:)\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.newTrip,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 19\n      }\n    }, \" Enter Country: \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"country\",\n      placeholder: \"Enter country pls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }\n    }, \" Enter dates: \"), /*#__PURE__*/React.createElement(Calendar, {\n      updateDates: this.updateDates,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"inputForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 18\n      }\n    }, !this.props.loading ? /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 20\n      }\n    }, \" Submit \") : /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"border\",\n      role: \"status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 10\n      }\n    }, \"Loading...\"))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.token !== null,\n    username: state.username,\n    loading: state.loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    newTrip: (country, startDate, endDate) => dispatch(actions.newTrip(country, startDate, endDate))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InputForm);","map":{"version":3,"sources":["/Users/lixupeng/NUS ACADS/ORBITAL/trippyy-working/trippyy/frontend/src/Components/StartComponents/inputForm.jsx"],"names":["React","Component","axios","Calendar","connect","actions","Link","Spinner","Autocomplete","InputForm","state","startDate","endDate","newTripCreated","goToShoppingPage","updateDates","setState","newTrip","event","preventDefault","props","target","country","value","getDerivedStateFromProps","nextProps","prevState","loading","componentDidUpdate","prevProps","snapshot","history","push","render","isAuthenticated","username","mapStateToProps","token","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport \"./inputForm.css\"\nimport axios from \"axios\";\nimport Calendar from \"./calendar\"\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/actions';\nimport { Link } from 'react-router-dom';\nimport { Spinner } from 'react-bootstrap';\nimport Autocomplete from './Autocomplete'\n\nclass InputForm extends Component {\n\n\tstate = {\n\t\tstartDate: null,\n\t\tendDate: null,\n\t\tnewTripCreated: false,\n\t\tgoToShoppingPage: false\n\t}\n\n\tupdateDates = (startDate, endDate) => {\n\t\tthis.setState({startDate, endDate});\n\t}\n\n\n\tnewTrip = (event) => {\n\t\tevent.preventDefault();\n\t\tthis.props.newTrip(event.target.country.value, this.state.startDate, this.state.endDate);\n\t\tthis.setState({newTripCreated: true});\n\t}\n\n\t//If new trip created is true, and loading is complete, then go to shopping page.\n\tstatic getDerivedStateFromProps(nextProps, prevState){\n\t  if (nextProps.loading===false && prevState.newTripCreated===true){\n\t     return { goToShoppingPage: true };\n\t  }\n\t  else return null;\n\t}\n\n\t//Happens upon receiving updated information.\n    componentDidUpdate(prevProps, prevState, snapshot) {\n    \tif (this.state.goToShoppingPage === true) {\n    \t\tthis.props.history.push(\"/shopping\");\n    \t}\n    }\n\n\trender() {\n\t\treturn (\n\t      <div className = \"container-fluid align-items-center inputForm\">\n\t      \t{\n\t    \t\t (this.props.isAuthenticated) ?\n\t    \t\t\t <h1>Hello, {this.props.username}</h1> : (<h1>Hello stranger:)</h1>)\n\t    \t}\n\t          <div className = \"jumbotron\">\n\t              <form onSubmit = {this.newTrip}> \n\t                <div>\n\t                \t<h3> Enter Country: </h3>\n\t                \t<input type = \"text\" name = \"country\" placeholder = \"Enter country pls\" />\n\t                </div>\n\n\t                <div className =\"inputForm\">\n\t                \t<h3> Enter dates: </h3>\n\t                \t<Calendar updateDates={this.updateDates}/>\n\t                </div>\n\t                <div className = \"inputForm\">\n\t                \t{ !this.props.loading ? \n\t                \t\t<button> Submit </button> \n\t                \t\t:\n\t\t\t\t\t\t\t<Spinner animation=\"border\" role=\"status\">\n\t\t\t\t\t\t\t  <span className=\"sr-only\">Loading...</span>\n\t\t\t\t\t\t\t</Spinner>\n\n\t                \t}\n\t                </div>\n\t              </form>\n\n\t              \n\t          </div>\n\t      </div>);\n\n\t}\n\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isAuthenticated: state.token !== null,\n        username: state.username,\n        loading: state.loading\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        newTrip: (country, startDate, endDate) => dispatch(actions.newTrip(country, startDate, endDate)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InputForm);"]},"metadata":{},"sourceType":"module"}